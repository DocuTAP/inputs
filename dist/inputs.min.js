/*!
 * @docutap/inputs v0.0.0
 * (c) 2018 adriancarriger
 * Released under the MIT License.
 */

!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):a(e["@docutap/inputs"]=e["@docutap/inputs"]||{})}(this,function(e){"use strict";var a={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"md-checkboxes-group",class:{"md-input-invalid":e.errors.has(e.schema.name)}},[!e.schema.label||e.schema.hideLabel&&!e.errors.has(e.schema.name)?e._e():t("div",{staticClass:"md-checkboxes-group-label"},[e._v(e._s(e.schema.label)+" "),e.errors.has(e.schema.name)?t("span",[e._v(e._s("required"===e.errors.items[0].rule?"is required":"not valid"))]):e._e()]),e._l(e.schema.values,function(a,n){return t("md-checkbox",{key:a,attrs:{name:e.schema.name+"-"+n,disabled:e.schema.disabled},on:{change:e.onChange},model:{value:e.model[e.schema.name][a],callback:function(t){e.$set(e.model[e.schema.name],a,t)},expression:"model[schema.name][value]"}},[e._v(e._s(a))])}),e.schema.disabledButton?t("md-button",{attrs:{fauxLink:!0},nativeOn:{click:function(a){e.schema.disabled=!e.schema.disabled}}},[e._v(e._s(e.schema.disabledButton))]):e._e(),t("input",{directives:[{name:"model",rawName:"v-model",value:e.fauxInputValue,expression:"fauxInputValue"},{name:"validate",rawName:"v-validate",value:e.schema.validator,expression:"schema.validator"}],attrs:{type:"hidden",name:e.schema.name},domProps:{value:e.fauxInputValue},on:{input:function(a){a.target.composing||(e.fauxInputValue=a.target.value)}}})],2)},staticRenderFns:[],name:"docutap-checkboxes",inject:["$validator"],props:{model:{type:Object},schema:{type:Object}},data:function(){return{fauxInputValue:""}},methods:{onChange:function(){var e=this;this.$nextTick(function(){e.fauxInputValue=Object.keys(e.model[e.schema.name]).filter(function(a){return e.model[e.schema.name][a]}).join(", ")})}}},t={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("md-input-container",{class:{"md-input-invalid":e.errors.has(e.schema.name)&&e.showingErrors}},[e.schema.label?t("label",[e._v(e._s(e.schema.label)+" "),e.error&&e.showingErrors?t("span",[e._v(e._s("required"===e.error.rule?"is required":"not valid"))]):e._e()]):e._e(),t("md-input",{directives:[{name:"validate",rawName:"v-validate",value:e.validator,expression:"validator"}],attrs:{scope:e.schema.scope,disabled:e.schema.disabled,phonePattern:e.schema.phonePattern,name:e.schema.name,type:e.schema.type,placeholder:e.schema.placeholder},on:{input:e.onInput},nativeOn:{focus:function(a){e.onFocus(a)},blur:function(a){e.onBlur(a)}},model:{value:e.model[e.schema.name],callback:function(a){e.$set(e.model,e.schema.name,a)},expression:"model[schema.name]"}}),e.schema.disabledButton?t("md-button",{attrs:{fauxLink:!0},nativeOn:{click:function(a){e.schema.disabled=!e.schema.disabled}}},[e._v(e._s(e.schema.disabledButton))]):e._e()],1)},staticRenderFns:[],name:"docutap-input",inject:["$validator"],props:{model:{type:Object},schema:{type:Object},showErrors:{type:Boolean,default:!1}},data:function(){return{validator:"",blured:!1,touched:!1,isFocsed:!1}},computed:{showingErrors:function(){return this.showErrors||!this.isFocsed&&this.touched},error:function(){var e=this;return this.errors.items.find(function(a){return a.field===e.schema.name})}},methods:{onInput:function(e){var a=this;e.length&&(this.touched=!0),this.$nextTick(function(){a.$validator.validate(a.schema.name,a.model[a.schema.name])}),this.$emit("input",this.mdValue,e)},onFocus:function(){this.isFocsed=!0},onBlur:function(e){this.isFocsed=!1,this.blured=!0}},mounted:function(){if("tel"===this.schema.type){var e=this.schema.phonePattern?this.schema.phonePattern.length:"XXX-XXX-XXXX",a=this.schema.validator.split("|");a.push("min:"+e.length),a.push("max:"+e.length),this.validator=a.join("|")}else this.validator=this.schema.validator}},n={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"md-radio-group",class:{"md-input-invalid":e.errors.has(e.schema.name)}},[e.schema.label?t("div",{staticClass:"md-radio-group-label"},[e._v(e._s(e.schema.label)+" "),e.errors.has(e.schema.name)?t("span",[e._v(e._s("required"===e.errors.items[0].rule?"is required":"not valid"))]):e._e()]):e._e(),e._l(e.schema.values,function(a,n){return t("md-radio",{directives:[{name:"validate",rawName:"v-validate",value:e.radioValidator(n),expression:"radioValidator(key)"}],key:a,attrs:{disabled:e.schema.disabled,"md-value":a,name:e.schema.name},on:{change:e.onChange},model:{value:e.model[e.schema.name],callback:function(a){e.$set(e.model,e.schema.name,a)},expression:"model[schema.name]"}},[e._v(e._s(a))])}),e.schema.disabledButton?t("md-button",{attrs:{fauxLink:!0},nativeOn:{click:function(a){e.schema.disabled=!e.schema.disabled}}},[e._v(e._s(e.schema.disabledButton))]):e._e()],2)},staticRenderFns:[],name:"docutap-radio",inject:["$validator"],props:{model:{type:Object},schema:{type:Object}},methods:{onChange:function(e){var a=this;setTimeout(function(){a.$validator.validate(a.schema.name,a.model[a.schema.name])}),this.$emit("change",this.mdValue,e)},radioValidator:function(e){return 0!==e?"":"required|in:,"+this.schema.values.join(",")}}},s={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("md-input-container",{class:{"md-input-invalid":e.errors.has(e.schema.name)}},[e.schema.label?t("label",[e._v(e._s(e.schema.label)+" "),e.errors.has(e.schema.name)?t("span",[e._v(e._s("required"===e.errors.items[0].rule?"is required":"not valid"))]):e._e()]):e._e(),t("md-select",{directives:[{name:"validate",rawName:"v-validate",value:e.schema.validator,expression:"schema.validator"}],attrs:{name:e.schema.name,disabled:e.schema.disabled},on:{input:e.onInput},model:{value:e.model[e.schema.name],callback:function(a){e.$set(e.model,e.schema.name,a)},expression:"model[schema.name]"}},e._l(e.schema.values,function(a){return t("md-option",{key:a,attrs:{value:a}},[e._v(e._s(a))])})),e.schema.disabledButton?t("md-button",{attrs:{fauxLink:!0},nativeOn:{click:function(a){e.schema.disabled=!e.schema.disabled}}},[e._v(e._s(e.schema.disabledButton))]):e._e()],1)},staticRenderFns:[],name:"docutap-input",inject:["$validator"],props:{model:{type:Object},schema:{type:Object}},methods:{onInput:function(){var e=this;this.$nextTick(function(){e.$validator.validate(e.schema.name,e.model[e.schema.name])})}}},i={DocutapCheckboxes:function(e){e.component("docutap-checkboxes",a)},DocutapInput:function(e){e.component("docutap-input",t)},DocutapRadio:function(e){e.component("docutap-radio",n)},DocutapSelect:function(e){e.component("docutap-select",s)}};i.install=function(e){for(var a in i){var t=i[a];t&&"install"!==a&&e.use(t)}},"undefined"!=typeof window&&window.Vue&&window.Vue.use(i.install),i.version="0.0.0",e.default=i,Object.defineProperty(e,"__esModule",{value:!0})});